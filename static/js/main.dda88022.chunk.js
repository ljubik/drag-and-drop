(this["webpackJsonpmy-react-trello-dnd"]=this["webpackJsonpmy-react-trello-dnd"]||[]).push([[0],{40:function(e){e.exports=JSON.parse('{"lists":{"01list":{"id":"01list","title":"To do","cards":[{"id":"01card","title":"Test 01 from DB","datetime":"2021-11-4"},{"id":"02card","title":"Test 02 from DB","datetime":"2021-11-5"},{"id":"03card","title":"Test 03 Trello tasks","datetime":"2021-11-6"}]},"02list":{"id":"02list","title":"In progress...","cards":[]}},"listIds":["01list","02list"]}')},63:function(e,t,i){},64:function(e,t,i){},79:function(e,t,i){"use strict";i.r(t);var s=i(0),n=i(12),c=i.n(n),r=i(53),a=(i(63),i(64),i(40)),d=i(19),l=i(96),o=i(99),j=i(95),b=i(27),p=i(94),u=i(100),O=Object(s.createContext)(null),x=i(2),g=function(e){var t=e.title,i=e.listId,n=f(),c=Object(s.useState)(!1),r=Object(b.a)(c,2),a=r[0],d=r[1],l=Object(s.useState)(t),o=Object(b.a)(l,2),j=o[0],g=o[1],h=Object(s.useContext)(O).updateListTitle;return Object(x.jsx)(x.Fragment,{children:a?Object(x.jsx)(u.a,{value:j,onChange:function(e){return g(e.target.value)},onBlur:function(){h(j,i),d(!1)},autoFocus:!0,fullWidth:!0,inputProps:{className:n.input}}):Object(x.jsxs)("div",{className:n.title,children:[Object(x.jsx)(p.a,{className:n.titleText,onClick:function(){return d(!0)},children:t}),Object(x.jsx)("span",{children:"..."})]})})},f=Object(j.a)((function(e){return{title:{display:"flex",margin:e.spacing(1)},titleText:{flexGrow:1,fontSize:"1.2rem",fontWeight:"bold"},input:{fontSize:"1.2rem",fontWeight:"bold",margin:e.spacing(1),"&:focus":{background:"#fff",border:"2px solid #226ffd",borderRadius:"5px"}}}})),h=i(17);var m=({card:e,index:t})=>{const i=v();return Object(x.jsx)(h.b,{draggableId:e.id,index:t,children:t=>Object(x.jsx)("div",{ref:t.innerRef,...t.dragHandleProps,...t.draggableProps,children:Object(x.jsxs)(l.a,{className:i.trelloCard,children:[Object(x.jsx)("h4",{children:e.title}),Object(x.jsxs)("h5",{children:["\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e: ",e.datetime]})]})})})};const v=Object(j.a)((e=>({trelloCard:{margin:e.spacing(1),padding:e.spacing(1,2,1,2)}})));var I=i(101),C=i(97),k=i(98),N=i(51),T=i.n(N);var y=({setOpen:e,type:t,listId:i})=>{const[n,c]=Object(s.useState)(""),r=P(),{addList:a,addCard:d}=Object(s.useContext)(O),o=()=>{t?a(n):d(n,i),c(""),e(!1)};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(l.a,{className:r.card,onBlur:o,children:Object(x.jsx)(u.a,{required:!0,value:n,onChange:e=>c(e.target.value),onBlur:t=>e(!1),multiline:!0,placeholder:"Enter a title for this ".concat(t?"list":"card"),inputProps:{className:r.input}})}),Object(x.jsxs)("div",{className:r.confirm,children:[Object(x.jsxs)("div",{className:r.options,children:[Object(x.jsxs)(C.a,{className:r.btnConfirm,onClick:o,children:["Add ",t?"list":"card"]}),Object(x.jsx)(k.a,{onClick:()=>e(!1),children:Object(x.jsx)(T.a,{})})]}),Object(x.jsx)(k.a,{children:Object(x.jsx)("span",{children:"..."})})]})]})};const P=Object(j.a)((e=>({card:{minWidth:"280px",margin:e.spacing(0,1,1,1),paddingBottom:e.spacing(4)},input:{padding:e.spacing(1)},confirm:{display:"flex",margin:e.spacing(0,1,1,1)},options:{flexGrow:1},btnConfirm:{background:"#5aac44",color:"#fff","&:hover":{backgroundColor:"#5aac44"}}})));var S=function(e){var t=e.type,i=e.listId,n=B(),c=Object(s.useState)(!1),r=Object(b.a)(c,2),a=r[0],d=r[1];return Object(x.jsxs)("div",{className:n.root,children:[Object(x.jsx)(I.a,{in:a,children:Object(x.jsx)(y,{setOpen:d,type:t,listId:i})}),Object(x.jsx)(I.a,{in:!a,children:Object(x.jsx)(l.a,{className:n.addText,onClick:function(){return d(!0)},children:Object(x.jsxs)(p.a,{children:["+ Add a ",t?"list":"card"]})})})]})},B=Object(j.a)((function(e){return{root:{marginTop:e.spacing(1)},addText:{padding:e.spacing(1,2,1,2),margin:e.spacing(0,1,1,1),background:"#ebecf0","&:hover":{backgroundColor:"##ebecf0"}}}})),L=function(e){var t=e.list,i=e.index,s=w();return Object(x.jsx)(h.b,{draggableId:t.id,index:i,children:function(e){return Object(x.jsx)("div",Object(d.a)(Object(d.a)({ref:e.innerRef},e.draggableProps),{},{children:Object(x.jsxs)(l.a,Object(d.a)(Object(d.a)({className:s.root},e.dragHandleProps),{},{children:[Object(x.jsx)(o.a,{}),Object(x.jsx)(g,{title:t.title,listId:t.id}),Object(x.jsx)(h.c,{droppableId:t.id,children:function(e){return Object(x.jsxs)("div",Object(d.a)(Object(d.a)({ref:e.innerRef},e.droppableProps),{},{children:[t.cards.map((function(e,t){return Object(x.jsx)(m,{card:e,index:t},e.id)})),e.placeholder]}))}}),Object(x.jsx)(S,{listId:t.id})]}))}))}})},w=Object(j.a)((function(e){return{root:{minWidth:"300px",background:"#ebecf0",margin:e.spacing(1)}}})),R=i(35),W=i.n(R);var z=function(){const e=D(),[t,i]=Object(s.useState)(a);return Object(x.jsx)(O.Provider,{value:{updateListTitle:(e,s)=>{const n=t.lists[s];n.title=e,i({...t,lists:{...t.lists,[s]:n}}),console.log("updateListTitle")},addCard:(e,s)=>{const n={id:W()(),title:e,datetime:(new Date).toLocaleTimeString()},c=t.lists[s];c.cards=[...c.cards,n],i({listIds:[...t.listIds],lists:{...t.lists,[s]:c}}),console.log("addCard")},addList:e=>{const s=W()(),n={id:s,title:e,cards:[]};i({listIds:[...t.listIds,s],lists:{...t.lists,[s]:n}}),console.log("addList")}},children:Object(x.jsx)(h.a,{onDragEnd:e=>{const{destination:i,destination:{droppableId:s,index:n},source:c,source:{droppableId:r,index:a},draggableId:d,type:l}=e;if(console.log(l,a,n),console.log(d,r,s),!i)return;if("list"===l){const e=t.listIds;return e.splice(a,1),void e.splice(n,0,d)}const o=t.lists[r],j=t.lists[s],b=o.cards.filter((e=>e.id===d))[0];r===s&&(o.cards.splice(a,1),j.cards.splice(n,0,b))},children:Object(x.jsx)(h.c,{droppableId:"list"+(n=100,Math.floor(Math.random()*n)),type:"list",direction:"horizontal",children:i=>Object(x.jsx)("div",{className:e.root,ref:i.innerRef,...i.droppableProps,children:Object(x.jsxs)("div",{className:e.container,children:[t.listIds.map(((e,i)=>{const s=t.lists[e];return Object(x.jsx)(L,{list:s,index:i},e)})),Object(x.jsxs)("div",{children:[Object(x.jsx)(S,{type:"list"}),i.placeholder]})]})})})})});var n};const D=Object(j.a)((e=>({root:{minHeight:"100vh",overflowY:"auto",backgroundImage:"url(/images/laptop.jpg)",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},container:{display:"flex"}})));c.a.render(Object(x.jsx)(r.a,{children:Object(x.jsx)(z,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.dda88022.chunk.js.map